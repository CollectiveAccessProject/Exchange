<div class="panel panel-primary">
  <div class="panel-body">
    <%= simple_form_for([@media_file, @sourceable]) do |f| %>
    <%= f.error_notification %>

      <%= f.input :file %>

    <div class="form-actions">
      <%= f.button :submit %>
    </div>
    <% end %>

<!-- hacked img preview -->
    <% if @sourceable.id %>
      <%=
          if /\Aimage\/.*\Z/ =~ @sourceable.file_content_type
            image_tag @sourceable.file.url(:medium)
            # this for some reason crashes my browser right now ... will have to investigate later
            #elsif /\Avideo\/.*\Z/ =~ file_content_type
            #video_tag file.url, :size => '600x400', controls: true, autobuffer: true
          elsif /\Aapplication\/pdf\Z/ =~ @sourceable.file_content_type
            image_tag @sourceable.file.url(:medium)
          end
      %>
    <% end %>
  </div>
</div>
